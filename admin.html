<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>لوحة التحكم | Dashboard</title>

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="alternate icon" href="favicon.ico">
    <!-- Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&family=Tajawal:wght@400;500;700&display=swap"
        rel="stylesheet">
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Styles -->
    <link rel="stylesheet" href="style.css">

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

</head>

<body style="background: #f0f2f5;">

    <!-- Login Modal -->
    <div id="login-modal" class="login-overlay">
        <div class="login-card">
            <h2 data-i18n="admin_login">دخول الادارة</h2>
            <div class="form-group">
                <input type="password" id="admin-pass" class="form-control" placeholder="****"
                    style="text-align:center; font-size:1.5rem; letter-spacing: 4px;">
            </div>
            <button id="login-btn" class="btn btn-primary" style="width:100%" data-i18n="login">دخول</button>
            <p id="login-error" style="color:red; margin-top:10px; display:none;">كلمة المرور خاطئة</p>
        </div>
    </div>

    <!-- Main Admin Content (Blurred initially) -->
    <div id="admin-app" style="filter: blur(5px); pointer-events: none;">
        <nav class="top-nav">
            <h3 class="logo-text" data-i18n="site_name">كهرمان اليمان</h3>
            <div>
                <a href="index.html" class="btn btn-secondary" style="font-size:0.8rem">العودة للموقع</a>
                <button id="lang-toggle" class="lang-switch">ENGLISH</button>
            </div>
        </nav>

        <div class="container admin-layout">
            <!-- Tab Navigation -->
            <div class="admin-tabs">
                <button class="tab-btn active" data-tab="products" data-i18n="products_tab">المنتجات</button>
                <button class="tab-btn" data-tab="security" data-i18n="security_tab">إعدادات الأمان</button>
            </div>

            <!-- Products Tab Content -->
            <div class="tab-content active" id="products-tab">
                <!-- Sidebar / Add Form -->
                <aside class="admin-sidebar">
                    <h2 style="margin-bottom: 20px;" data-i18n="add_product">اضافة منتج</h2>
                    <form id="product-form">

                        <!-- Top Row: Image & Number -->
                        <div class="form-row-top">
                            <!-- Image Upload -->
                            <div class="form-group" style="flex: 1;">
                                <label class="file-upload" id="img-preview" for="img-input">
                                    <i class="fa-solid fa-cloud-arrow-up fa-2x"></i>
                                    <br>
                                    <span data-i18n="upl_image"
                                        style="margin-top:8px; display:block; font-size:0.9rem;">رفع
                                        صورة</span>
                                </label>
                                <input type="file" id="img-input" accept="image/*" class="visually-hidden">
                            </div>

                            <!-- Product Number -->
                            <div class="form-group" style="flex: 1;">
                                <label class="form-label" data-i18n="prod_num">رقم المنتج</label>
                                <input type="number" id="p-number" class="form-control" required placeholder="101"
                                    style="height: 100%; max-height: 110px; font-size: 1.5rem; text-align: center;">
                            </div>
                        </div>

                        <!-- Classification -->
                        <div class="form-group" style="margin-top: 15px;">
                            <label class="form-label" data-i18n="classification">التصنيف</label>
                            <select id="p-classification" class="form-control">
                                <option value="silver" data-i18n="logo_silver">لوقو فضي</option>
                                <option value="gold" data-i18n="logo_gold">لوقو ذهبي</option>
                                <option value="diamond" data-i18n="logo_diamond">لوقو ماسي</option>
                            </select>
                        </div>

                        <!-- Arabic Data -->
                        <div class="form-section">
                            <h4
                                style="margin-bottom:10px; color:var(--primary-color); border-bottom:1px solid #eee; padding-bottom:5px;">
                                العربية</h4>
                            <div class="form-group">
                                <label class="form-label" data-i18n="prod_name_ar">اسم المنتج</label>
                                <input type="text" id="p-name-ar" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label" data-i18n="prod_desc_ar">التفاصيل</label>
                                <textarea id="p-desc-ar" class="form-control" rows="3"></textarea>
                            </div>
                        </div>

                        <!-- English Data -->
                        <div class="form-section">
                            <h4
                                style="margin-bottom:10px; color:var(--primary-color); border-bottom:1px solid #eee; padding-bottom:5px;">
                                English</h4>
                            <div class="form-group">
                                <label class="form-label" data-i18n="prod_name_en">Product Name</label>
                                <input type="text" id="p-name-en" class="form-control" style="direction: ltr;">
                            </div>
                            <div class="form-group">
                                <label class="form-label" data-i18n="prod_desc_en">Details</label>
                                <textarea id="p-desc-en" class="form-control" rows="3"
                                    style="direction: ltr;"></textarea>
                            </div>
                        </div>

                        <button type="submit" class="btn btn-primary" style="width:100%; margin-top:10px;"
                            data-i18n="save">حفظ
                            المنتج</button>

                    </form>
                </aside>

                <!-- Main Content / List -->
                <section class="admin-content">
                    <h2 style="margin-bottom: 20px;" data-i18n="product_list">قائمة المنتجات</h2>
                    <div id="admin-products-list">
                        <!-- List items injected here -->
                    </div>
                </section>
            </div>

            <!-- Security Tab Content -->
            <div class="tab-content" id="security-tab">
                <aside class="admin-sidebar">
                    <h2 style="margin-bottom: 20px; color: var(--primary-color);" data-i18n="security_settings">إعدادات
                        الأمان</h2>
                    <form id="password-change-form">
                        <div class="form-group">
                            <label class="form-label" data-i18n="current_password">كلمة المرور الحالية</label>
                            <input type="password" id="current-password" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label" data-i18n="new_password">كلمة المرور الجديدة</label>
                            <input type="password" id="new-password" class="form-control" required minlength="4">
                        </div>
                        <div class="form-group">
                            <label class="form-label" data-i18n="confirm_password">تأكيد كلمة المرور الجديدة</label>
                            <input type="password" id="confirm-password" class="form-control" required>
                        </div>
                        <button type="submit" class="btn btn-primary" style="width:100%;"
                            data-i18n="change_password">تغيير كلمة المرور</button>
                    </form>
                </aside>
            </div>
        </div>
    </div> <!-- End Admin App Wrapper -->

    <script src="script.js"></script>

</body>

</html>